<form nz-form [formGroup]="appsForm" class="ant-form ant-form-horizontal" style="padding: 15px;">
    <div nz-row>
        <div nz-col nzSpan="24">
            <div nz-form-item nz-row>
                <div nz-col nzSpan="8" nz-form-label>
                    <label for="ApplicationName">ApplicationName</label>
                </div>
                <div nz-col nzSpan="16" nz-form-control
                    [ngClass]="{'has-error': appsForm.get('ApplicationName')?.invalid && appsForm.get('ApplicationName')?.touched}">
                    <input nz-input id="ApplicationName" formControlName="ApplicationName" />
                    <div nz-form-explain
                        *ngIf="appsForm.get('ApplicationName')?.invalid && appsForm.get('ApplicationName')?.touched"
                        style="color: red;">
                        ApplicationName is required
                    </div>
                </div>
            </div>
            <div nz-form-item nz-row style="margin-top: 20px;">
                <div nz-col nzSpan="8" nz-form-label>
                    <label for="URL">URL:</label>
                </div>
                <div nz-col nzSpan="16" nz-form-control
                    [ngClass]="{'has-error': appsForm.get('Url')?.invalid && appsForm.get('Url')?.touched}">
                    <input nz-input id="Url" formControlName="Url" />
                    <div nz-form-explain *ngIf="appsForm.get('Url')?.invalid && appsForm.get('Url')?.touched"
                        style="color: red;">
                        Url is required
                    </div>
                </div>
            </div>
            <div nz-form-item nz-row style="margin-top: 20px;">
                <div nz-col nzSpan="8" nz-form-label>
                    <label for="Icon">Upload Icon:</label>
                </div>
                <div nz-col nzSpan="16" nz-form-control>
                    <!-- Input สำหรับอัปโหลดไฟล์ -->
                    <input type="file" id="Icon" (change)="onFileSelected($event)" accept=".png"
                        style="margin-bottom: 10px;" />

                    <!-- แสดงชื่อไฟล์เดิม (ถ้ามี) -->
                    <div *ngIf="uploadedIconFileName || iconFileName" style="margin-top: 5px;">
                        <span>
                            <strong>Uploaded File:</strong>
                            {{ iconFileName || uploadedIconFileName }}
                        </span>
                    </div>

                    <!-- แสดง Error Message -->
                    <div nz-form-explain *ngIf="appsForm.get('Icon')?.invalid && appsForm.get('Icon')?.touched"
                        style="color: red;">
                        Icon is required
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div nz-row class="modal-footer " style="text-align: left; margin-top: 30px;">
        <div nz-col nzSpan="24" class="text-right">
            <button nz-button nzType="primary" nzDanger class="red-button"
                style="border-radius: 10px;margin-right: 10px;" (click)="handleCancelClick()">Cancel</button>
            <button nz-button nzType="primary" class="green-button" style="border-radius: 10px;"
                (click)="save()">Save</button>
        </div>
    </div>
</form>